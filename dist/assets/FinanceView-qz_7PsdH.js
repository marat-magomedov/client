import{c as s,a as t,o as r,d as C,u as M,n as j,b as c,i as B,f as n,t as d,w as $,r as D,F as y,p as _,s as f,q as x,D as w}from"./index-DwfDKcVw.js";import{u as S}from"./finance--6gVxPqY.js";import{_ as V,c as F}from"./Footer.vue_vue_type_script_setup_true_lang-CjU_qaQj.js";import{r as k}from"./CurrencyDollarIcon-Bkf6s2qJ.js";import{r as T}from"./ArrowPathIcon-CRMUxPgs.js";import"./SunIcon-Cd1DBmYu.js";function A(p,i){return r(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"})])}function N(p,i){return r(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m15 11.25-3-3m0 0-3 3m3-3v7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function L(p,i){return r(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"})])}function Z(p,i){return r(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})])}const q={class:"min-h-screen bg-light-bg dark:bg-gray-900 flex flex-col"},z={class:"flex-1 container mx-auto px-4 py-8 md:py-12"},E={class:"max-w-4xl mx-auto"},I={key:0,class:"bg-light-bg-secondary dark:bg-gray-800/40 backdrop-blur-lg p-6 md:p-8 rounded-2xl border border-light-border dark:border-gray-700/30 shadow-xl mb-8"},P={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 md:gap-6"},R={class:"flex items-center space-x-3 md:space-x-4"},U={class:"p-2.5 bg-green-400/10 rounded-lg border border-green-400/20"},G={class:"text-2xl md:text-3xl font-bold text-green-400"},H={class:"bg-light-bg-secondary dark:bg-gray-800/40 backdrop-blur-lg p-6 md:p-8 rounded-2xl border border-light-border dark:border-gray-700/30 shadow-xl"},J={key:0,class:"text-center p-6 bg-light-bg dark:bg-gray-900/20 rounded-xl border border-light-border dark:border-gray-700/30"},K={class:"flex items-center justify-center space-x-3 text-light-text-secondary dark:text-gray-400"},O={key:1,class:"p-4 bg-red-400/10 rounded-xl border border-red-400/30 text-red-400"},Q={key:2,class:"text-center p-6 text-light-text-secondary dark:text-gray-400"},W={key:3},X={class:"hidden md:block overflow-x-auto"},Y={class:"w-full"},tt={class:"divide-y divide-light-border dark:divide-gray-700/30"},et={class:"px-5 py-4 text-light-text dark:text-gray-300 text-sm"},rt={class:"px-5 py-4"},ot={class:"flex items-center space-x-2"},st={class:"md:hidden space-y-3"},at={class:"flex justify-between items-start mb-2"},nt={class:"flex items-center space-x-3"},dt={class:"text-xs text-light-text-secondary dark:text-gray-400"},ut=C({__name:"FinanceView",setup(p){const i=M(),l=S();function u(a){return new Date(a).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}function m(a){return{deposit:"Пополнение",withdrawal:"Вывод средств",payment:"Оплата"}[a]||a}const h=a=>({deposit:L,withdrawal:A,payment:Z})[a]||k;function g(a){return{deposit:"text-green-400",withdrawal:"text-red-400",payment:"text-blue-400"}[a]||"text-gray-400"}function b(a){return a==="withdrawal"?"text-red-400":"text-green-400"}return j(async()=>{await i.fetchProfile(),await l.fetchTransactions()}),(a,o)=>{const v=D("router-link");return r(),s("div",q,[c(V),t("main",z,[t("div",E,[o[5]||(o[5]=t("h1",{class:"text-3xl md:text-4xl font-bold mb-6 md:mb-10 bg-gradient-to-r from-purple-400 via-blue-400 to-cyan-400 bg-clip-text text-transparent animate-fade-in"}," Финансовые операции ",-1)),n(i).state.profile?(r(),s("div",I,[t("div",P,[t("div",R,[t("div",U,[c(n(k),{class:"w-7 h-7 text-green-400"})]),t("div",null,[o[0]||(o[0]=t("p",{class:"text-sm md:text-base text-light-text-secondary dark:text-gray-400"},"Доступный баланс",-1)),t("p",G,d(n(i).state.profile.balance)+" ₽ ",1)])]),c(v,{to:"/withdrawals",class:"flex items-center justify-center space-x-2 px-5 py-2.5 md:px-6 md:py-3 bg-gradient-to-r from-purple-600/30 to-blue-500/30 hover:from-purple-600/50 hover:to-blue-500/50 rounded-xl border border-purple-400/30 hover:border-purple-400/50 transition-all group"},{default:$(()=>[c(n(N),{class:"w-6 h-6 text-purple-400 group-hover:rotate-45 transition-transform"}),o[1]||(o[1]=t("span",{class:"text-purple-400 group-hover:text-white transition-colors"},"Вывод средств",-1))]),_:1})])])):B("",!0),t("div",H,[o[4]||(o[4]=t("h2",{class:"text-xl md:text-2xl font-bold text-light-text dark:text-gray-200 mb-6 bg-gradient-to-r from-blue-400/30 to-cyan-400/30 w-max px-4 py-1 rounded-full"}," История операций ",-1)),n(l).loading?(r(),s("div",J,[t("div",K,[c(n(T),{class:"w-6 h-6 animate-spin-once"}),o[2]||(o[2]=t("span",null,"Загрузка транзакций...",-1))])])):n(l).error?(r(),s("div",O,d(n(l).error),1)):n(l).transactions.length===0?(r(),s("div",Q," Нет зарегистрированных операций ")):(r(),s("div",W,[t("div",X,[t("table",Y,[o[3]||(o[3]=t("thead",{class:"bg-light-bg dark:bg-gray-900/30"},[t("tr",{class:"border-b border-light-border dark:border-gray-700/30"},[t("th",{class:"px-5 py-3.5 text-left text-sm font-medium text-light-text-secondary dark:text-gray-400"},"Дата"),t("th",{class:"px-5 py-3.5 text-left text-sm font-medium text-light-text-secondary dark:text-gray-400"},"Тип операции"),t("th",{class:"px-5 py-3.5 text-left text-sm font-medium text-light-text-secondary dark:text-gray-400"},"Сумма")])],-1)),t("tbody",tt,[(r(!0),s(y,null,_(n(l).transactions,e=>(r(),s("tr",{key:e.id,class:"hover:bg-light-bg dark:hover:bg-gray-700/10 transition-colors group"},[t("td",et,d(u(e.created_at)),1),t("td",rt,[t("div",ot,[(r(),f(w(h(e.transaction_type)),{class:x(["w-5 h-5",g(e.transaction_type)])},null,8,["class"])),t("span",{class:x(g(e.transaction_type))},d(m(e.transaction_type)),3)])]),t("td",{class:x(["px-5 py-4 font-medium",b(e.transaction_type)])},d(e.amount)+" ₽ ",3)]))),128))])])]),t("div",st,[(r(!0),s(y,null,_(n(l).transactions,e=>(r(),s("div",{key:e.id,class:"bg-light-bg dark:bg-gray-900/20 p-4 rounded-xl border border-light-border dark:border-gray-700/30 hover:border-purple-400/30 transition-all group"},[t("div",at,[t("div",nt,[(r(),f(w(h(e.transaction_type)),{class:x(["w-6 h-6",g(e.transaction_type)])},null,8,["class"])),t("span",{class:x([g(e.transaction_type),"font-medium text-sm"])},d(m(e.transaction_type)),3)]),t("span",{class:x(["font-bold text-sm",b(e.transaction_type)])},d(e.amount)+" ₽ ",3)]),t("div",dt,d(u(e.created_at)),1)]))),128))])]))])])]),c(F)])}}});export{ut as default};
